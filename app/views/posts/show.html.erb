<h3><%= link_to "#{@user.username}", user_path(@user)  %></h3>
<br>
<%= image_tag @post.image_url, :width => 350 %>
<br>
<h6>description</h6>
<p> <%= @post.description %> </p>

<h2> All comments </h2>

<% @post.comments.each do |comment| %>
  <tr>
    <td><%= User.find(comment.user_id).username %></td> said:
    <td><%= comment.body %></td>
    <br>
    <% if current_user.present? && current_user.id == comment.user_id %>
      <%= link_to("Delete", post_comment_path(post_id: @post.id, comment_id: comment.id), method: :delete) %>
    <%end%>
    <br>
  </tr>
<%end%>

<% if user_signed_in? %>

  <% if Like.where(user_id: current_user.id, post_id: @post.id).empty? %>

  <%= link_to('<i class="fa fa-heart-o" aria-hidden="true"></i>'.html_safe,
              post_likes_path(user_id: current_user.id,
                              post_id: @post.id),
              method: :create) %>

  <% else %>
    <%= link_to('<i class="fa fa-heart" aria-hidden="true"></i>'.html_safe,
                post_like_path(user_id: current_user.id,
                                   post_id: @post.id),
                   method: :delete)%>
  <% end %>
  <%= link_to("#{@post.likes.size}", post_likes_path(post_id: @post.id)) %>
    <br>
  <%= form_for([@post, @post.comments.build]) do |form|%>

    <%= current_user.name %>, your comment?
    <div class="field">
      <%= form.text_area(:body) %>
    </div>

    <div class="actions">
      <%= form.submit %>
    </div>
  <% end %>
<% end %>