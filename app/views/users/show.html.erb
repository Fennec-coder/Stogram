<h1><%=@user.username %> </h1>
<h4><%=@user.name %></h4>
<% unless @user.bio.nil? %>
  <h5>bio:</h5><br>
  <h5><%=@user.bio%></h5>
<% end %>

<%=link_to '<button>Edit profile</button>'.html_safe, edit_user_registration_path if @user.id == current_user.id%>

<%=link_to '<button>Create post</button>'.html_safe, new_user_post_path(@user, @post) if @user.id == current_user.id %>


<% if current_user.present? && current_user != @user %>
  <% if (Follow.where(follower: current_user, following: @user.id).take == nil) %>
    <%= link_to("<button>Follow</button>".html_safe, follows_path(following_id: @user.id), method: :post) %>
  <%else%>
    <%= link_to("<button>Unfollow</button>".html_safe, follow_path(following_id: @user.id), method: :delete) %>
  <%end%>
<% end%>


<%unless @posts.empty? %>
  <h3>Posts:</h3>
  <br>
<% end %>
<tbody>
<% @posts.each do |post| %>
  <tr>
    <td><%= image_tag post.image_url %></td>
    <br>
    <td><%= post.description %></td>
    <br>
    <td><%= link_to 'Show', user_post_path(@user,post) %></td>
    <% if @user.id == current_user.id  %>
    <td><%= link_to 'Edit', edit_user_post_path(@user,post) %></td>
    <td><%= link_to 'Destroy', user_post_path(@user,post), method: :delete, data: {confirm: 'Are you sure?'} %></td>
    <% end %>
  </tr>
<%end%>
</tbody>